<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">
  <title>Jason Figueroa</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- font awesome -->
  <script src="https://use.fontawesome.com/1fa079d759.js"></script>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="css/mystyles.css">

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="images/favicon.ico">

  <!-- jQuery -->
  <!-- <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script> -->

</head>
<body>
  <div class="container">
      <nav class="topnav" id="myTopnav">
        <div>
          <a id="brand" href="/"><i class="fa fa-rocket" aria-hidden="true"></i> Jason Figueroa</a>
          <a href="https://google.com" onclick="toggleResponsiveNav();return false;" id="menuIcon"><i class="fa fa-bars" aria-hidden="true"></i></a>
        </div>        
        <ul>
          <li><a href="/blog.html">Blog</a></li>
          <li><a href="/projects.html">Projects</a></li>
          <li><a href="/contact.html">Contact</a></li>
          <li><a href="/resume.html">Resume</a></li>
          <!-- should I add a no-script.html page -->
          <!-- <li id="menuIcon"><a href="https://google.com" onclick="toggleResponsiveNav();return false;"><i class="fa fa-bars" aria-hidden="true"></i></a></li> -->
        </ul>
        <!-- <div id="menuIcon">
          
        </div> -->
        </nav>
  </div>
  
  <div class="landing-image-container">
      <img src="images/paul-morris-303977.jpg" id="splash-img">
  </div>
  <!-- <img src="http://via.placeholder.com/1920x1080"> -->
  <!-- .container is main centered wrapper -->
<div class="container">
    <section>
        <article>
            <h2>JavaScript Fibonacci Memoization</h2>
            <p class="publish-date">
              <time datetime="2017-10-27">October 27, 2017</time>
            </p>
            <p>
                I wanted to write a blog post but wasnâ€™t sure what to write about. Well, Iâ€™ve been working a lot with JavaScript lately and have been loving it. I come from a background of mostly C and Java with a dash of Python ðŸ˜‰. Passing functions as arguments and returning functions is all very new for me so I was considering writing about first-class functions, higher-order functions and/or closures. These are all brand-new concepts for me.
            </p>
            <p>
                Well I started researching online and watching a few videos on YouTube. After a while I was feeling comfortable with what I learned so I decided to create an implementation of Fibonacci.
            </p>
            <p>
                I will not delve into the details of Fibonacci numbers but there were two concepts I knew right off the bat I wanted to incorporate into the solution. The first was recursion. The second was closures, although I had no idea how I was going to implement the latter with Fibonacci.
            </p>
            <p>
                Before I started developing the solution I decided that I wanted to have some sort of timer to capture the duration of the solution. Fibonacci executes a lot of recursive calls and a lot of redundant calculations making it very slow when trying to calculate higher numbers.
            </p>
            <p>The following is what I came up with for timer.</p>
            <script src="https://gist.github.com/jasonfigueroa/091ea9d9f43936ae01f9e1ec29d0a45c.js"></script>
            <p>
                A higher order function returning another function. The function to be timed in this case is Fibonacci. The higher-order function, timer, is to be called just before the execution of Fibonacci. The returned function is to be executed on the completion of Fibonacci. The anonymous function returned also carries a record of the context in which it was created, in this case the variable startTime. This anonymous function along with the context make up a closure.
            </p>
            <p>The following is what I used to report my findings.</p>
            <script src="https://gist.github.com/jasonfigueroa/eeb403a745b5c22e07c20e446136695b.js"></script>
            <p>
                A basic function that receives the time clocked in milliseconds, it converts those milliseconds to minutes and seconds and returns them as a string.
            </p>
            <p>Here is the Fibonacci function I came up with.</p>
            <script src="https://gist.github.com/jasonfigueroa/74eea13072ab197872015a1d8b080071.js"></script>
            <p>Nothing ground breaking here.</p>
            <p>
                When I tested that solution I thought maybe something was wrong with my function. My console wasnâ€™t giving me a result. A few minutes later I ran the solution and walked away from my laptop for a while when I returned there was the solution in the console.
            </p>
            <p>
                This got me thinking about memoization. Memoization is the caching of results from expensive calculations to avoid remaking those same calculations. This works great for something like Fibonacci because the recursive calls can become very taxing, timewise.
            </p>
            <p>
                I knew an object would be perfect for this, the key could be n and the value could be f(n). However, I didnâ€™t want to pollute the global scope. By now it was getting late in the evening and I decided to call it a night. I woke up at around 3am and couldnâ€™t go back to sleep. Then I started thinking about the problem from the night before and it finally clicked. The solution was exactly what I was looking at the day before, closures.
            </p>
            <p>The following is the solution I came up with the following morning.</p>
            <script src="https://gist.github.com/jasonfigueroa/4a732137dbb2972b6416a3a4967a9b20.js"></script>
            <p>
                On every iteration the object, memo, is searched for the key, n, if the key is found the value associated with the key is returned. This negates the need for any unnecessary recursive calls. Every value is calculated once and cached in the object.
            </p>            
            <p>
                I decided to put this to the test and see if there was any significant difference between the solutions.
            </p>
            <p>The outcome was astounding!</p>
            <p>
              The following is what I ran in the console for the non-memoized 
              solution.
            </p>
            <img src="images/fib-value-of-46-non-memo.png">
            <p>Okay, 29 and a half seconds, not bad.</p>
            <p>The following is what I ran for the memoized solution.</p>            
            <img src="images/fib-value-of-46-memo.png">
            <p>Yep, 1 millisecond!</p>
            <p>
              I had to omit the call to formatted_time() because there were no 
              minutes or seconds to format!
            </p>
            <p>
                I was in disbelief, I decided to increase the value of n to 50 
                just to see how much of a difference it would make.
            </p>
            <p>Here is the non-memoized solution.</p>
            <img src="images/fib-value-of-50-non-memo.png">
            <p>Wow! As you can see the time lapsed seems to increase exponentially.</p>
            <p>Here is the memoized solution running 50 as the value of n.</p>
            <img src="images/fib-value-of-50-memo.png">
            <p>2 milliseconds!</p>
            <p>
                Here is a visual representation of what is happening on every iteration an initial calculation is made.
            </p>
            <img src="images/demo-of-value-caching.png">
            <p>The programs sees that a calculation hasnâ€™t been made for the value n, the program executes the calculations and the outcome is cached as a key value pair.</p>
            <p>That is just up to number 12. This object gets big fast.</p>
            <p>
                The benefits of memoization are obvious. It would be nice to find a use for this other than experimentation. I have read that some languages feature automatic memoization which can be leveraged by the developer. Iâ€™m not sure if JavaScript is one of those languages but thatâ€™ll have to be a topic for another day.
            </p>            
      </section>
</div>

  <!-- js -->
  <script src="js/scripts.js"></script>
  
  <!-- Note: columns can be nested, but it's not recommended since Skeleton's grid has %-based gutters, meaning a nested grid results in variable with gutters (which can end up being *really* small on certain browser/device sizes) -->

<!-- End Document
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
</body>
</html>
